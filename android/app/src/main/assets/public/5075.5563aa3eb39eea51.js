"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(H,d,r)=>{r.r(d),r.d(d,{HomePageModule:()=>w});var p=r(177),i=r(4742),u=r(4341),m=r(1739),h=r(467),e=r(3953),f=r(3002),P=r(7185);const M=()=>["/register"],v=()=>["/forgot-password"];function C(t,s){1&t&&(e.j41(0,"div",18)(1,"ion-label",19),e.EFF(2,"Cargando"),e.k0s(),e.nrm(3,"ion-spinner",20),e.k0s())}const b=[{path:"",component:(()=>{var t;class s{constructor(n,o,l,a){this.router=n,this.animationController=o,this.authenticatorService=l,this.apiService=a,this.login={email:"",password:""},this.user={},this.mensaje="",this.spinner=!1,this.showPassword=!1,this.passwordtoggleicon="eye"}ngAfterContentInit(){this.animarTitulo()}animarTitulo(){const n=document.querySelector("#main-title");this.animationController.create().addElement(n).duration(3e3).iterations(1/0).fromTo("transform","translateX(-100px)","translateX(100%)").play()}cambiarSpinner(){this.spinner=!this.spinner}esContrasenaRobusta(n){const l=/[A-Z]/.test(n),a=/[a-z]/.test(n),g=/[0-9]/.test(n),k=/[!@#$%^&*(),.?":{}|<>]/.test(n);return n.length>=8&&l&&a&&g&&k}validar(){var n=this;return(0,h.A)(function*(){if(0===n.login.email.length)return void(n.mensaje="Correo vac\xedo");if(0===n.login.password.length)return void(n.mensaje="Contrase\xf1a vac\xeda");if(!n.esContrasenaRobusta(n.login.password))return void(n.mensaje="La contrase\xf1a debe tener al menos 8 caracteres, incluyendo may\xfasculas, min\xfasculas, n\xfameros y caracteres especiales.");const o=n.login.email.split("@")[1];"duocuc.cl"===o||"profesor.duoc.cl"===o||"cetecom.duoc.cl"===o?(yield n.authenticatorService.loginUser(n.login.email,n.login.password))?(n.mensaje="Conexi\xf3n exitosa",n.apiService.getUser(n.login.email).subscribe(a=>{n.user=a;let g={state:{user:n.user}};n.cambiarSpinner(),setTimeout(()=>{"duocuc.cl"===o?n.router.navigate(["/perfil/alumno"],g):"profesor.duoc.cl"===o?n.router.navigate(["/perfil/docente"],g):"cetecom.duoc.cl"===o&&n.router.navigate(["/admin"],g),n.cambiarSpinner(),n.mensaje=""},3e3)})):n.mensaje="Usuario o contrase\xf1a incorrectos":n.mensaje='Dominio no v\xe1lido. Debe ser "duocuc.cl", "profesor.duoc.cl" o "cetecom.duoc.cl"'})()}togglepassword(){this.showPassword=!this.showPassword,this.passwordtoggleicon="eye"===this.passwordtoggleicon?"eye-off":"eye"}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(m.Ix),e.rXU(i.Hx),e.rXU(f.$),e.rXU(P.G))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-home"]],decls:35,vars:12,consts:[[3,"translucent"],["id","main-title"],[3,"fullscreen"],["id","banner",1,"banner-img"],["src","../../assets/img/logo.webp","alt","DuocUC"],["collapse","condense"],["size","large"],["id","container"],[1,"login"],["alt","Silhouette of a person's head","src","https://ionicframework.com/docs/img/demos/avatar.svg"],["label","Email","labelPlacement","floating","placeholder","Ingrese su email",3,"ngModelChange","ngModel"],["label","Contrase\xf1a","labelPlacement","floating","placeholder","Ingrese su contrase\xf1a",3,"ngModelChange","ngModel","type"],["slot","end",3,"click","name"],["style","text-align: center;",4,"ngIf"],[1,"ion-padding"],["expand","block","color","warning","fill","outline",3,"click"],["expand","block","color","warning","fill","outline",3,"routerLink"],["color","primary",3,"routerLink"],[2,"text-align","center"],[2,"display","block","margin-bottom","8px"],["name","dots",1,"ion-center"]],template:function(n,o){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e.EFF(3," RegistrAPP "),e.k0s()()(),e.j41(4,"ion-content",2)(5,"div",3),e.nrm(6,"img",4),e.k0s(),e.j41(7,"ion-header",5)(8,"ion-toolbar")(9,"ion-title",6),e.EFF(10,"Login de Acceso"),e.k0s()()(),e.j41(11,"div",7)(12,"ion-card")(13,"ion-card-header")(14,"ion-card-subtitle"),e.EFF(15,"Login de acceso"),e.k0s()(),e.j41(16,"ion-card-content")(17,"div",8),e.nrm(18,"img",9),e.k0s(),e.j41(19,"ion-list")(20,"ion-item")(21,"ion-input",10),e.mxI("ngModelChange",function(a){return e.DH7(o.login.email,a)||(o.login.email=a),a}),e.k0s()(),e.j41(22,"ion-item")(23,"ion-input",11),e.mxI("ngModelChange",function(a){return e.DH7(o.login.password,a)||(o.login.password=a),a}),e.k0s(),e.j41(24,"ion-icon",12),e.bIt("click",function(){return o.togglepassword()}),e.k0s()(),e.j41(25,"ion-label"),e.EFF(26),e.k0s(),e.DNE(27,C,4,0,"div",13),e.j41(28,"div",14)(29,"ion-button",15),e.bIt("click",function(){return o.validar()}),e.EFF(30,"Ingresar"),e.k0s(),e.j41(31,"ion-button",16),e.EFF(32,"Registrar"),e.k0s()(),e.j41(33,"ion-card-subtitle",17),e.EFF(34,"\xbfOlvido su contrase\xf1a?"),e.k0s()()()()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(17),e.R50("ngModel",o.login.email),e.R7$(2),e.R50("ngModel",o.login.password),e.Y8G("type",o.showPassword?"text":"password"),e.R7$(),e.Y8G("name",o.passwordtoggleicon),e.R7$(2),e.JRh(o.mensaje),e.R7$(),e.Y8G("ngIf",o.spinner),e.R7$(4),e.Y8G("routerLink",e.lJ4(10,M)),e.R7$(2),e.Y8G("routerLink",e.lJ4(11,v)))},dependencies:[p.bT,u.BC,u.vS,i.Jm,i.b_,i.I9,i.ME,i.HW,i.W9,i.eU,i.iq,i.$w,i.uz,i.he,i.nf,i.w2,i.BC,i.ai,i.Gw,i.N7,m.Wk],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}.banner-img[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:auto}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#container[_ngcontent-%COMP%]   #carga[_ngcontent-%COMP%]{text-align:center;display:block;margin:auto;width:-moz-fit-content;width:fit-content;padding-top:5px;padding-bottom:15px}#container[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;object-fit:cover;border:2px solid white}"]}),s})()}];let y=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[m.iI.forChild(b),m.iI]}),s})();var j=r(4176);let w=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[p.MD,u.YN,i.bv,y,j.LG]}),s})()}}]);